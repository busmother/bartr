{"ast":null,"code":"let username = window.localStorage.getItem(\"username\");\nexport const setStatus = () => {\n  return dispatch => {\n    if (username !== \"undefined\") {\n      dispatch({\n        type: \"setUser\",\n        payload: username\n      });\n    }\n  };\n};\nexport const login = username => {\n  window.localStorage.setItem(\"username\", username);\n  return {\n    type: \"setUser\",\n    payload: username\n  };\n};\nexport const logout = () => {\n  return dispatch => {\n    dispatch({\n      type: \"logout\"\n    });\n  };\n};\nexport const addUser = data => {\n  return dispatch => {\n    fetch('http://localhost:3000/api/v1/users', {\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      },\n      method: 'POST',\n      body: JSON.stringify({\n        user: {\n          username: data\n        }\n      })\n    }).then(response => response.json()).then(user => dispatch({\n      type: 'setUser',\n      payload: user\n    })).catch(error => console.log(\"error\", error));\n  };\n};","map":{"version":3,"sources":["/Users/ianmarshall/Development/phase5/bartr/bartr-frontend/src/actions/user.js"],"names":["username","window","localStorage","getItem","setStatus","dispatch","type","payload","login","setItem","logout","addUser","data","fetch","headers","method","body","JSON","stringify","user","then","response","json","catch","error","console","log"],"mappings":"AAAA,IAAIA,QAAQ,GAAGC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,UAA5B,CAAf;AAEA,OAAO,MAAMC,SAAS,GAAG,MAAM;AAC3B,SAAQC,QAAD,IAAc;AACjB,QAAIL,QAAQ,KAAK,WAAjB,EAA6B;AACzBK,MAAAA,QAAQ,CAAC;AAACC,QAAAA,IAAI,EAAE,SAAP;AAAkBC,QAAAA,OAAO,EAAEP;AAA3B,OAAD,CAAR;AACH;AACJ,GAJD;AAKH,CANM;AAQP,OAAO,MAAMQ,KAAK,GAAIR,QAAD,IAAc;AAC/BC,EAAAA,MAAM,CAACC,YAAP,CAAoBO,OAApB,CAA4B,UAA5B,EAAwCT,QAAxC;AACA,SAAO;AACHM,IAAAA,IAAI,EAAE,SADH;AAEHC,IAAAA,OAAO,EAAEP;AAFN,GAAP;AAGH,CALM;AAOP,OAAO,MAAMU,MAAM,GAAG,MAAM;AACxB,SAAQL,QAAD,IAAc;AACjBA,IAAAA,QAAQ,CAAC;AAACC,MAAAA,IAAI,EAAE;AAAP,KAAD,CAAR;AACH,GAFD;AAIH,CALM;AAOP,OAAO,MAAMK,OAAO,GAAIC,IAAD,IAAU;AAC7B,SAAQP,QAAD,IAAc;AACjBQ,IAAAA,KAAK,CAAC,oCAAD,EAAuC;AACxCC,MAAAA,OAAO,EAAE;AACL,wBAAgB,kBADX;AAEL,kBAAU;AAFL,OAD+B;AAKxCC,MAAAA,MAAM,EAAE,MALgC;AAMxCC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAACC,QAAAA,IAAI,EAAE;AAACnB,UAAAA,QAAQ,EAAEY;AAAX;AAAP,OAAf;AANkC,KAAvC,CAAL,CAQCQ,IARD,CAQMC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EARlB,EASCF,IATD,CASMD,IAAI,IAAId,QAAQ,CAAC;AAACC,MAAAA,IAAI,EAAE,SAAP;AAAkBC,MAAAA,OAAO,EAAEY;AAA3B,KAAD,CATtB,EAUCI,KAVD,CAUOC,KAAK,IAAEC,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBF,KAArB,CAVd;AAWH,GAZD;AAaH,CAdM","sourcesContent":["let username = window.localStorage.getItem(\"username\");\n\nexport const setStatus = () => {\n    return (dispatch) => {\n        if (username !== \"undefined\"){\n            dispatch({type: \"setUser\", payload: username})\n        }       \n    } \n}\n\nexport const login = (username) => {\n    window.localStorage.setItem(\"username\", username)\n    return {\n        type: \"setUser\", \n        payload: username}\n}\n\nexport const logout = () => {\n    return (dispatch) => {\n        dispatch({type: \"logout\"})\n    }\n\n}\n\nexport const addUser = (data) => {\n    return (dispatch) => {\n        fetch('http://localhost:3000/api/v1/users', {\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n            method: 'POST',\n            body: JSON.stringify({user: {username: data}})\n        })\n        .then(response => response.json())\n        .then(user => dispatch({type: 'setUser', payload: user}))\n        .catch(error=>console.log(\"error\", error))\n    }\n}"]},"metadata":{},"sourceType":"module"}